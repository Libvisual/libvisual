# Check target processor architecture
IF(CMAKE_SYSTEM_PROCESSOR MATCHES "^(i.86|x86)$")
  SET(VISUAL_ARCH_X86 yes)
ELSEIF(CMAKE_SYSTEM_PROCESSOR STREQUAL "x86_64")
  SET(VISUAL_ARCH_X86_64 yes)
ELSEIF(CMAKE_SYSTEM_PROCESSOR MATCHES "^mips")
  SET(VISUAL_ARCH_MIPS yes)
ELSEIF(CMAKE_SYSTEM_PROCESSOR MATCHES "^alpha")
  SET(VISUAL_ARCH_ALPHA yes)
ELSEIF(CMAKE_SYSTEM_PROCESSOR MATCHES "^sparc")
  SET(VISUAL_ARCH_SPARC yes)
ELSEIF(CMAKE_SYSTEM_PROCESSOR MATCHES "^(powerpc|ppc)")
  SET(VISUAL_ARCH_POWERPC yes)
ELSE()
  SET(VISUAL_ARCH_UNKNOWN yes)
ENDIF()

# Check target architecture endianness
INCLUDE(TestBigEndian)
TEST_BIG_ENDIAN(IS_BIG_ENDIAN)
IF(IS_BIG_ENDIAN)
  SET(VISUAL_BIG_ENDIAN 1)
ELSE()
  SET(VISUAL_LITTLE_ENDIAN 1)
ENDIF()

# Check target platform
IF(CMAKE_SYSTEM_NAME MATCHES "Linux")
  SET(VISUAL_OS_LINUX yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "(FreeBSD|DragonFly)")
  SET(VISUAL_OS_FREEBSD yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "NetBSD")
  SET(VISUAL_OS_NETBSD yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "OpenBSD")
  SET(VISUAL_OS_OPENBSD yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "SunOS")
  SET(VISUAL_OS_SOLARIS yes)
  SET(VISUAL_OS_SUNOS yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "HP-UX")
  SET(VISUAL_OS_HPUX yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "AIX")
  SET(VISUAL_OS_AIX yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "BeOS")
  SET(VISUAL_OS_BEOS yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "IRIX")
  SET(VISUAL_OS_IRIX yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "Darwin")
  SET(VISUAL_OS_DARWIN yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "OSF")
  SET(VISUAL_OS_OSF yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "SCO")
  SET(VISUAL_OS_SCO yes)
  SET(VISUAL_OS_POSIX yes)
ELSEIF(WIN32)
  SET(VISUAL_OS_WIN32 yes)
  SET(VISUAL_WITH_MINGW ${MINGW})
  SET(VISUAL_WITH_CYGWIN ${CYGWIN})
  IF(VISUAL_WITH_CYGWIN)
    SET(VISUAL_OS_POSIX yes)
  ENDIF()
  IF(${CMAKE_SIZEOF_VOID_P} EQUAL 8)
    SET(VISUAL_OS_WIN64 yes)
  ENDIF()
ELSE()
  SET(VISUAL_OS_UNKNOWN yes)
ENDIF()
